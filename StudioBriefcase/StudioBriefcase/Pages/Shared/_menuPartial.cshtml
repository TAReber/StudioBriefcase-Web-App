@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    
}

<ul class="box-col box-center3 menu-style p3">
    <li class="box-row box-center3 w100">
        <span class="text-sm" style="color:inherit">Color Mode</span>
        <button class="menu-btn menu-btn-size c-fg" onclick="toggleColorScheme(this)" id="color_mode_toggle" data-target="colorscheme">Light</button>
    </li>

    @if (User.Identity?.IsAuthenticated == true)
    {
        
        <li class="box-col box-center3 w100">
            <button class="menu-btn menu-btn-link c-fg" onclick="OpenSettingsPage()"><span class="text-sm" style="color:inherit">Settings</span></button>

        </li>
        
        <li class="box-col box-center0 w100">
            <span class="text-sm" style="color:inherit">@User.FindFirst("role")?.Value</span>
            <span class="text-sm" style="color:inherit">@User.FindFirst("name")?.Value</span>
            <a class="menu-btn menu-btn-link text-center w100 c-fg" href="/logout">Logout</a>
        </li>
    }
    else
    {
        <li class="box-col box-center0 w100">
            <span class="text-sm" style="color:inherit">GitHub OAuth</span>
            <a class="menu-btn menu-btn-link text-center w100 c-fg" href="/login">Login</a>
        </li>

    }
</ul>



<script>
    function OpenSettingsPage() {
        
        let page = window.open('/Shared/Forms/SettingsPage', '_blank', 'width=500,height=500,scrollbars=no,resizable=no');
        page.focus();
    }
</script>